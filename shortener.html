<html>
  <head>
    <title>Shittie.st URL shrtnr</title>
    <meta name="viewport" content="width=device-width">
  <style>
    body {
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        display: table;
    } .body {
        display: table-cell;
        vertical-align: middle;
        margin-left: auto;
        margin-right: auto;
        text-align: center;
    } a {
        text-decoration: none !important;
        height: 24px;
        color: black;
    } h1, h3 {
        margin: 0;
    } h3 {
        font-weight: normal;
        font-size: 18px;
    }
    </style>
  </head>
    <body>
      <div class="body">
        <h1 style="margin-bottom: 5px;">
          Shittie.st URL shrtnr
        </h1>
          <noscript>
            <form action="url" method="post">
          </noscript>
          <input id="url" type="text" placeholder="https://some.shitty.url" />
          <br/> 
          <input id="submit-button" type="submit" value="shrtn" />
          <noscript>
            </form>
          </noscript>
          <div class="body" id="output"></div>
      <br />
      </div> <!-- body -->
    </body>
    <script>
    var outputDiv = document.getElementById('output');

      var textInput = document.getElementById('url');
      var submitButton = document.getElementById('submit-button');
      submitButton.onclick = function() {
        if (!textInput.value) { return; }
        var ajax = new XMLHttpRequest();
        ajax.onreadystatechange = function() {
          if (this.readyState === XMLHttpRequest.DONE) {
            if (this.status === 200) {
              outputDiv.innterHTML = JSON.parse(this.responseText)['shortURL'];
            } else {
              outputDiv.innterHTML = this.responseText;
            }
          }
        };
        ajax.open("POST", "/url", true);
        ajax.setRequestHeader("Content-type", "application/json");
        ajax.send(JSON.stringify({url: textInput.value}));
      };
      console.log(submitButton);
    </script>
</html>

